# Benchmark

## Setup

- command: `pnpx autocannon -c 100 -d 15 http://localhost:3000`

- system: Linux 5.10.42-1
- CPU: Intel i7-8550U (8) @ 4.000GHz
- computer:  Mi Laptop Pro 15.6

## Results

Without `lru-send`:

```text
┌─────────┬────────┬─────────┬─────────┬─────────┬────────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%   │ 99%     │ Avg        │ Stdev     │ Max     │
├─────────┼────────┼─────────┼─────────┼─────────┼────────────┼───────────┼─────────┤
│ Latency │ 461 ms │ 1749 ms │ 1920 ms │ 1922 ms │ 1665.08 ms │ 324.88 ms │ 1923 ms │
└─────────┴────────┴─────────┴─────────┴─────────┴────────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬───────┬─────────┬─────────┬───────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%   │ 97.5%   │ Avg     │ Stdev │ Min     │
├───────────┼─────────┼─────────┼───────┼─────────┼─────────┼───────┼─────────┤
│ Req/Sec   │ 49      │ 49      │ 56    │ 63      │ 56.34   │ 3.58  │ 49      │
├───────────┼─────────┼─────────┼───────┼─────────┼─────────┼───────┼─────────┤
│ Bytes/Sec │ 11.4 kB │ 11.4 kB │ 13 kB │ 14.6 kB │ 13.1 kB │ 829 B │ 11.4 kB │
└───────────┴─────────┴─────────┴───────┴─────────┴─────────┴───────┴─────────┘
```

With `lru-send`:

```
┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 3 ms │ 4 ms │ 10 ms │ 13 ms │ 4.79 ms │ 2.99 ms │ 100 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Req/Sec   │ 8479    │ 8479    │ 18847   │ 25679   │ 18941.87 │ 3913.87 │ 8478    │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Bytes/Sec │ 1.97 MB │ 1.97 MB │ 4.37 MB │ 5.96 MB │ 4.39 MB  │ 908 kB  │ 1.97 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┴─────────┘
```

`18941.87 /  56.34 = ~336` ~> It's **~336x faster** with `lru-send`.
